# Exerc√≠cio de SQL: Consultando Cidades com Vogais

## üìã Descri√ß√£o do Exerc√≠cio

**Objetivo**: Consultar a lista de nomes de cidades da tabela STATION que come√ßam e terminam com vogais (a, e, i, o, u). O resultado n√£o pode conter duplicatas.

### Estrutura da Tabela STATION

| Field   | Type         |
| ------- | ------------ |
| ID      | NUMBER       |
| CITY    | VARCHAR2(21) |
| STATE   | VARCHAR2(2)  |
| LAT_N   | NUMBER       |
| LONG_W  | NUMBER       |

---

## üí° Solu√ß√£o

```sql
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')
  AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

---

## üìö Conceitos Fundamentais para Iniciantes

### 1. O que √© SELECT DISTINCT?

O comando `SELECT DISTINCT` √© usado para garantir que os resultados da consulta n√£o contenham duplicatas.

**Exemplo:**

```sql
SELECT DISTINCT CITY
FROM STATION;
```

**Explica√ß√£o:** Retorna apenas os nomes √∫nicos das cidades na tabela STATION.

---

### 2. O que √© SUBSTR?

A fun√ß√£o `SUBSTR` √© usada para extrair uma parte de uma string.

**Sintaxe:**

```sql
SUBSTR(string, posi√ß√£o_inicial, comprimento);
```

**Exemplos:**

```sql
-- Extrair o primeiro caractere
SUBSTR('Boston', 1, 1);  -- Retorna 'B'

-- Extrair o √∫ltimo caractere
SUBSTR('Boston', -1, 1);  -- Retorna 'n'
```

---

### 3. O que √© LOWER?

A fun√ß√£o `LOWER` converte todos os caracteres de uma string para letras min√∫sculas.

**Exemplo:**

```sql
LOWER('Boston');  -- Retorna 'boston'
```

**Por que usamos LOWER?**

Para garantir que a compara√ß√£o funcione independentemente de mai√∫sculas ou min√∫sculas.

---

### 4. O que √© IN?

O operador `IN` verifica se um valor est√° em uma lista de valores.

**Exemplo:**

```sql
SELECT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

**Explica√ß√£o:** Retorna cidades cujo primeiro caractere √© uma vogal.

---

## üîç An√°lise Detalhada da Solu√ß√£o

Vamos analisar a solu√ß√£o passo a passo:

```sql
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')
  AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

### Passo 1: SELECT DISTINCT CITY

- `SELECT DISTINCT` garante que os nomes das cidades retornados sejam √∫nicos.
- `CITY` √© a coluna que cont√©m os nomes das cidades.

### Passo 2: FROM STATION

- Indica que estamos buscando dados da tabela `STATION`.

### Passo 3: WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')

- Filtra cidades cujo primeiro caractere (extra√≠do com `SUBSTR`) √© uma vogal.
- `LOWER` garante que a compara√ß√£o funcione independentemente de mai√∫sculas ou min√∫sculas.
- `IN ('a', 'e', 'i', 'o', 'u')` verifica se o caractere est√° na lista de vogais.

### Passo 4: AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u')

- Adiciona uma segunda condi√ß√£o: o √∫ltimo caractere tamb√©m deve ser uma vogal.
- Ambas as condi√ß√µes devem ser verdadeiras (por causa do `AND`).

### Resultado

A consulta retorna os nomes √∫nicos de cidades que come√ßam e terminam com vogais.

---

## üéØ Exemplos Pr√°ticos

### Exemplo 1: Como funciona o filtro

Imagine que a tabela STATION tenha estas cidades:

| CITY       |
| ---------- |
| Atlanta    |
| Boston     |
| Chicago    |
| Omaha      |
| Erie       |
| Austin     |

**Resultado da consulta:** Atlanta, Erie, Omaha, Austin

---

### Exemplo 2: Testando cada condi√ß√£o separadamente

```sql
-- Cidades que come√ßam com vogais
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u');
-- Retorna: Atlanta, Erie, Omaha, Austin

-- Cidades que terminam com vogais
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');
-- Retorna: Atlanta, Omaha, Erie

-- Cidades que come√ßam E terminam com vogais
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')
  AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');
-- Retorna: Atlanta, Erie, Omaha
```

---

## üíª Exerc√≠cios Pr√°ticos

Tente resolver estes exerc√≠cios para praticar:

### Exerc√≠cio 1 (F√°cil)

Selecione os nomes de cidades que come√ßam com vogais.

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

</details>

---

### Exerc√≠cio 2 (F√°cil)

Selecione os nomes de cidades que terminam com vogais.

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

</details>

---

### Exerc√≠cio 3 (M√©dio)

Selecione os nomes de cidades que come√ßam e terminam com vogais, ordenados alfabeticamente.

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')
  AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u')
ORDER BY CITY;
```

</details>

---

### Exerc√≠cio 4 (Dif√≠cil)

Selecione os nomes de cidades que come√ßam e terminam com vogais, junto com o estado (STATE).

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT DISTINCT CITY, STATE
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')
  AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

</details>

---

## üìñ Comandos SQL B√°sicos - Resumo R√°pido

| Comando/Cl√°usula | Prop√≥sito                      | Exemplo                     |
| ---------------- | ------------------------------ | --------------------------- |
| SELECT DISTINCT  | Escolher colunas √∫nicas        | `SELECT DISTINCT CITY`      |
| FROM             | Especificar tabela             | `FROM STATION`              |
| WHERE            | Filtrar resultados             | `WHERE condi√ß√£o`            |
| SUBSTR           | Extrair parte de uma string    | `SUBSTR(CITY, 1, 1)`        |
| LOWER            | Converter para min√∫sculas      | `LOWER(CITY)`               |
| IN               | Verificar valores na lista     | `IN ('a', 'e', 'i', 'o')`   |
| AND              | Todas condi√ß√µes verdadeiras    | `WHERE A AND B`             |

---

## üí° Dicas Importantes para Iniciantes

### 1. Aspas em SQL

```sql
-- Texto (VARCHAR): sempre use aspas simples
WHERE CITY = 'Atlanta'     ‚úÖ Correto
WHERE CITY = "Atlanta"     ‚ö†Ô∏è Funciona em MySQL mas evite
WHERE CITY = Atlanta       ‚ùå Erro de sintaxe

-- N√∫meros (NUMBER): nunca use aspas
WHERE LAT_N > 40           ‚úÖ Correto
WHERE LAT_N > '40'         ‚ö†Ô∏è Funciona mas n√£o √© recomendado
```

### 2. Case Sensitivity (Mai√∫sculas/Min√∫sculas)

```sql
-- Palavras-chave SQL: n√£o s√£o case-sensitive
SELECT city FROM station WHERE lat_n > 40;  -- Funciona
SELECT CITY FROM STATION WHERE LAT_N > 40;  -- Funciona

-- Conven√ß√£o: use MAI√öSCULAS para palavras-chave SQL
SELECT CITY FROM STATION WHERE LAT_N > 40;  -- ‚úÖ Recomendado
```

### 3. Valores de Texto s√£o Case-Sensitive

```sql
WHERE CITY = 'Atlanta'  ‚úÖ Funciona
WHERE CITY = 'atlanta'  ‚ùå N√£o funciona (n√£o encontra resultados)
WHERE CITY = 'Atlanta'  ‚úÖ Funciona
```

### 4. Ordem das Cl√°usulas

A ordem das cl√°usulas em SQL deve ser respeitada:

```sql
-- ‚úÖ Ordem correta
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')
  AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');

-- ‚ùå Ordem incorreta (erro de sintaxe)
FROM STATION
SELECT DISTINCT CITY
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

### 5. Formata√ß√£o e Legibilidade

```sql
-- Menos leg√≠vel (tudo em uma linha)
SELECT DISTINCT CITY FROM STATION WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u') AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');

-- Mais leg√≠vel (quebrado em linhas)
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')
  AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

---

## üéì Pr√≥ximos Passos no Aprendizado

Depois de dominar este exerc√≠cio, voc√™ pode aprender:

1. **ORDER BY**: Ordenar resultados
   ```sql
   SELECT DISTINCT CITY FROM STATION ORDER BY CITY;
   ```

2. **LIMIT**: Limitar n√∫mero de resultados
   ```sql
   SELECT DISTINCT CITY FROM STATION LIMIT 10;
   ```

3. **LIKE**: Buscar padr√µes em texto
   ```sql
   SELECT DISTINCT CITY FROM STATION WHERE CITY LIKE 'A%';
   ```

4. **IN**: Verificar m√∫ltiplos valores
   ```sql
   SELECT DISTINCT CITY FROM STATION WHERE STATE IN ('CA', 'NY', 'TX');
   ```

5. **COUNT, SUM, AVG**: Fun√ß√µes de agrega√ß√£o
   ```sql
   SELECT COUNT(*) FROM STATION WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u');
   ```

6. **GROUP BY**: Agrupar dados
   ```sql
   SELECT STATE, COUNT(*) FROM STATION GROUP BY STATE;
   ```

7. **JOINS**: Combinar dados de m√∫ltiplas tabelas

---

## üîß Testando no MySQL

Para testar esta consulta no MySQL:

```bash
# Conectar ao MySQL
mysql -u seu_usuario -p

# Selecionar o banco de dados
USE nome_do_banco;

# Executar a consulta
SELECT DISTINCT CITY
FROM STATION
WHERE LOWER(SUBSTR(CITY, 1, 1)) IN ('a', 'e', 'i', 'o', 'u')
  AND LOWER(SUBSTR(CITY, -1, 1)) IN ('a', 'e', 'i', 'o', 'u');
```

---

## üìö Recursos Adicionais

- [MySQL Official Documentation](https://dev.mysql.com/doc/)
- [W3Schools SQL Tutorial](https://www.w3schools.com/sql/)
- [SQLZoo Interactive Tutorials](https://sqlzoo.net/)
- [LeetCode Database Problems](https://leetcode.com/problemset/database/)

---

## ‚úÖ Checklist de Aprendizado

Marque o que voc√™ j√° domina:

- [ ] Entendo o que faz `SELECT DISTINCT` e como evitar duplicatas
- [ ] Entendo o que faz `SUBSTR` e como extrair partes de strings
- [ ] Entendo o que faz `LOWER` e como garantir compara√ß√µes case-insensitive
- [ ] Sei usar operadores de compara√ß√£o (`IN`, `AND`)
- [ ] Entendo a diferen√ßa entre `AND` e `OR`
- [ ] Sei quando usar aspas simples (texto) e quando n√£o usar (n√∫meros)
- [ ] Resolvi todos os exerc√≠cios pr√°ticos
- [ ] Consigo explicar a solu√ß√£o para outra pessoa

---

**Parab√©ns por completar este exerc√≠cio! Continue praticando! üöÄ**
