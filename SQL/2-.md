# Exerc√≠cio de SQL: Consultando Nomes de Cidades Americanas

## üìã Descri√ß√£o do Exerc√≠cio

**Objetivo**: Consultar o campo NAME de todas as cidades americanas na tabela CITY com popula√ß√µes maiores que 120.000. O CountryCode para Am√©rica √© USA.

### Estrutura da Tabela CITY

| Field       | Type         |
| ----------- | ------------ |
| ID          | NUMBER       |
| NAME        | VARCHAR2(17) |
| COUNTRYCODE | VARCHAR2(3)  |
| DISTRICT    | VARCHAR2(20) |
| POPULATION  | NUMBER       |

---

## üí° Solu√ß√£o

```sql
SELECT NAME
FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;
```

---

## üìö Conceitos Fundamentais para Iniciantes

### 1. O que √© SELECT?

O comando `SELECT` √© usado para consultar (recuperar) dados de uma tabela no banco de dados. Voc√™ especifica quais colunas deseja ver.

**Sintaxe b√°sica:**

```sql
SELECT coluna1, coluna2, ...
FROM nome_da_tabela;
```

**Exemplos:**

```sql
-- Selecionar apenas o nome das cidades
SELECT NAME FROM CITY;

-- Selecionar nome e popula√ß√£o
SELECT NAME, POPULATION FROM CITY;

-- Selecionar todas as colunas (usando *)
SELECT * FROM CITY;
```

**üí° Dica:** Quando voc√™ sabe exatamente quais colunas precisa, especifique-as por nome (como `SELECT NAME`). Use `*` apenas quando realmente precisa de todas as colunas.

---

### 2. O que √© FROM?

A cl√°usula `FROM` especifica de qual tabela voc√™ quer buscar os dados.

**Exemplo:**

```sql
SELECT NAME FROM CITY;
-- Isso busca a coluna NAME da tabela chamada CITY
```

---

### 3. O que √© WHERE?

A cl√°usula `WHERE` filtra os resultados com base em condi√ß√µes espec√≠ficas. S√≥ retorna as linhas que atendem √†s condi√ß√µes definidas.

**Sintaxe:**

```sql
SELECT colunas
FROM tabela
WHERE condi√ß√£o;
```

**Exemplos:**

```sql
-- Buscar cidades com popula√ß√£o maior que 500000
SELECT NAME FROM CITY
WHERE POPULATION > 500000;

-- Buscar uma cidade espec√≠fica por nome
SELECT * FROM CITY
WHERE NAME = 'New York';
```

---

### 4. Operadores de Compara√ß√£o

Os operadores de compara√ß√£o s√£o usados para comparar valores nas cl√°usulas WHERE:

| Operador | Significado    | Exemplo                      |
| -------- | -------------- | ---------------------------- |
| =        | Igual a        | `WHERE NAME = 'Boston'`      |
| >        | Maior que      | `WHERE POPULATION > 120000`  |
| <        | Menor que      | `WHERE POPULATION < 50000`   |
| >=       | Maior ou igual | `WHERE POPULATION >= 120000` |
| <=       | Menor ou igual | `WHERE POPULATION <= 500000` |
| <> ou != | Diferente de   | `WHERE COUNTRYCODE <> 'USA'` |

**Importante:** No exerc√≠cio, usamos `>` (maior que) e n√£o `>=` (maior ou igual) porque queremos popula√ß√µes **maiores que** 120000, n√£o incluindo 120000.

---

### 5. Operadores L√≥gicos: AND e OR

#### AND (E)

O operador `AND` retorna resultados que atendem **TODAS** as condi√ß√µes especificadas.

```sql
-- Ambas condi√ß√µes devem ser verdadeiras
SELECT NAME FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;
```

**Explica√ß√£o:** Retorna apenas nomes de cidades que s√£o dos EUA **E** t√™m popula√ß√£o maior que 120.000.

**Tabela Verdade do AND:**

| Condi√ß√£o 1 | Condi√ß√£o 2 | Resultado |
| ---------- | ---------- | --------- |
| Verdadeiro | Verdadeiro | Verdadeiro |
| Verdadeiro | Falso      | Falso     |
| Falso      | Verdadeiro | Falso     |
| Falso      | Falso      | Falso     |

#### OR (OU)

O operador `OR` retorna resultados que atendem **PELO MENOS UMA** das condi√ß√µes.

```sql
-- Pelo menos uma condi√ß√£o deve ser verdadeira
SELECT NAME FROM CITY
WHERE COUNTRYCODE = 'USA'
   OR COUNTRYCODE = 'CAN';
```

**Explica√ß√£o:** Retorna cidades que s√£o dos EUA **OU** do Canad√°.

---

### 6. Tipos de Dados

√â importante entender os tipos de dados ao trabalhar com SQL:

#### VARCHAR (texto)

- Armazena texto de tamanho vari√°vel
- Sempre usar **aspas simples** ao comparar
- Exemplo: `VARCHAR2(17)` significa texto com at√© 17 caracteres

```sql
WHERE COUNTRYCODE = 'USA'  -- ‚úÖ Correto (com aspas simples)
WHERE COUNTRYCODE = USA    -- ‚ùå Erro (sem aspas)
```

#### NUMBER (n√∫meros)

- Armazena valores num√©ricos inteiros ou decimais
- **N√£o usar aspas** ao comparar

```sql
WHERE POPULATION > 120000      -- ‚úÖ Correto (sem aspas)
WHERE POPULATION > '120000'    -- ‚ùå Funciona mas n√£o √© recomendado
```

---

## üîç An√°lise Detalhada da Solu√ß√£o

Vamos analisar a solu√ß√£o passo a passo:

```sql
SELECT NAME
FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;
```

### Passo 1: SELECT NAME

- Especifica que queremos apenas a coluna `NAME`
- N√£o precisamos de todas as colunas, apenas os nomes das cidades

### Passo 2: FROM CITY

- Indica que estamos buscando dados da tabela `CITY`

### Passo 3: WHERE COUNTRYCODE = 'USA'

- Primeira condi√ß√£o: filtra apenas cidades dos Estados Unidos
- Usa aspas simples porque `COUNTRYCODE` √© do tipo VARCHAR (texto)
- `=` verifica igualdade exata

### Passo 4: AND POPULATION > 120000

- Segunda condi√ß√£o: popula√ß√£o deve ser maior que 120.000
- Usa `>` (maior que), n√£o `>=` (maior ou igual)
- Sem aspas porque `POPULATION` √© do tipo NUMBER
- O `AND` garante que **ambas** as condi√ß√µes sejam verdadeiras

### Resultado

A consulta retorna apenas os nomes das cidades que satisfazem **ambas** as condi√ß√µes:
1. Estar nos EUA (COUNTRYCODE = 'USA')
2. Ter popula√ß√£o maior que 120.000 (POPULATION > 120000)

---

## üéØ Exemplos Pr√°ticos

### Exemplo 1: Como funciona o filtro

Imagine que a tabela CITY tenha estas cidades:

| NAME         | COUNTRYCODE | POPULATION |
| ------------ | ----------- | ---------- |
| New York     | USA         | 8000000    | ‚úÖ Retornado
| Los Angeles  | USA         | 4000000    | ‚úÖ Retornado
| Springfield  | USA         | 100000     | ‚ùå N√£o retornado (‚â§ 120000)
| Miami        | USA         | 450000     | ‚úÖ Retornado
| Toronto      | CAN         | 2700000    | ‚ùå N√£o retornado (n√£o USA)
| Small Town   | USA         | 50000      | ‚ùå N√£o retornado (‚â§ 120000)

**Resultado da consulta:** New York, Los Angeles, Miami

---

### Exemplo 2: Testando cada condi√ß√£o separadamente

```sql
-- Apenas cidades dos EUA (sem filtro de popula√ß√£o)
SELECT NAME FROM CITY
WHERE COUNTRYCODE = 'USA';
-- Retorna: New York, Los Angeles, Springfield, Miami, Small Town

-- Apenas cidades com popula√ß√£o > 120000 (sem filtro de pa√≠s)
SELECT NAME FROM CITY
WHERE POPULATION > 120000;
-- Retorna: New York, Los Angeles, Miami, Toronto

-- Com AMBAS as condi√ß√µes (AND)
SELECT NAME FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;
-- Retorna: New York, Los Angeles, Miami
```

---

## üíª Exerc√≠cios Pr√°ticos

Tente resolver estes exerc√≠cios para praticar:

### Exerc√≠cio 1 (F√°cil)

Selecione apenas os nomes de todas as cidades dos EUA (sem filtro de popula√ß√£o).

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT NAME FROM CITY
WHERE COUNTRYCODE = 'USA';
```

</details>

---

### Exerc√≠cio 2 (F√°cil)

Selecione os nomes de todas as cidades com popula√ß√£o maior que 500.000.

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT NAME FROM CITY
WHERE POPULATION > 500000;
```

</details>

---

### Exerc√≠cio 3 (M√©dio)

Selecione os nomes de cidades dos EUA com popula√ß√£o entre 100.000 e 200.000.

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT NAME FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 100000
  AND POPULATION < 200000;

-- Ou usando BETWEEN:
SELECT NAME FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION BETWEEN 100001 AND 199999;
```

</details>

---

### Exerc√≠cio 4 (M√©dio)

Selecione os nomes de cidades dos EUA OU do Canad√° (CAN) com popula√ß√£o maior que 150.000.

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT NAME FROM CITY
WHERE (COUNTRYCODE = 'USA' OR COUNTRYCODE = 'CAN')
  AND POPULATION > 150000;
```

**Nota:** Os par√™nteses s√£o importantes aqui para garantir que o OR seja avaliado primeiro.

</details>

---

### Exerc√≠cio 5 (Dif√≠cil)

Selecione o nome e a popula√ß√£o de cidades americanas com popula√ß√£o maior que 120.000, ordenadas por popula√ß√£o em ordem decrescente.

```sql
-- Sua resposta aqui
```

<details>
<summary>Ver Solu√ß√£o</summary>

```sql
SELECT NAME, POPULATION
FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000
ORDER BY POPULATION DESC;
```

</details>

---

## üìñ Comandos SQL B√°sicos - Resumo R√°pido

| Comando/Cl√°usula | Prop√≥sito                      | Exemplo                     |
| ---------------- | ------------------------------ | --------------------------- |
| SELECT           | Escolher colunas para retornar | `SELECT NAME`               |
| FROM             | Especificar tabela             | `FROM CITY`                 |
| WHERE            | Filtrar resultados             | `WHERE POPULATION > 120000` |
| AND              | Todas condi√ß√µes verdadeiras    | `WHERE A AND B`             |
| OR               | Pelo menos uma verdadeira      | `WHERE A OR B`              |
| >                | Maior que                      | `POPULATION > 120000`       |
| <                | Menor que                      | `POPULATION < 50000`        |
| =                | Igual a                        | `COUNTRYCODE = 'USA'`       |

---

## üí° Dicas Importantes para Iniciantes

### 1. Aspas em SQL

```sql
-- Texto (VARCHAR): sempre use aspas simples
WHERE COUNTRYCODE = 'USA'     ‚úÖ Correto
WHERE COUNTRYCODE = "USA"     ‚ö†Ô∏è Funciona em MySQL mas evite
WHERE COUNTRYCODE = USA       ‚ùå Erro de sintaxe

-- N√∫meros (NUMBER): nunca use aspas
WHERE POPULATION > 120000     ‚úÖ Correto
WHERE POPULATION > '120000'   ‚ö†Ô∏è Funciona mas n√£o √© recomendado
```

### 2. Case Sensitivity (Mai√∫sculas/Min√∫sculas)

```sql
-- Palavras-chave SQL: n√£o s√£o case-sensitive
SELECT name FROM city WHERE population > 120000;  -- Funciona
SELECT NAME FROM CITY WHERE POPULATION > 120000;  -- Funciona

-- Conven√ß√£o: use MAI√öSCULAS para palavras-chave SQL
SELECT NAME FROM CITY WHERE POPULATION > 120000;  -- ‚úÖ Recomendado
```

### 3. Valores de Texto s√£o Case-Sensitive

```sql
WHERE COUNTRYCODE = 'USA'  ‚úÖ Funciona
WHERE COUNTRYCODE = 'usa'  ‚ùå N√£o funciona (n√£o encontra resultados)
WHERE COUNTRYCODE = 'Usa'  ‚ùå N√£o funciona
```

### 4. Ordem das Cl√°usulas

A ordem das cl√°usulas em SQL deve ser respeitada:

```sql
-- ‚úÖ Ordem correta
SELECT NAME
FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;

-- ‚ùå Ordem incorreta (erro de sintaxe)
FROM CITY
SELECT NAME
WHERE COUNTRYCODE = 'USA';
```

### 5. Formata√ß√£o e Legibilidade

```sql
-- Menos leg√≠vel (tudo em uma linha)
SELECT NAME FROM CITY WHERE COUNTRYCODE = 'USA' AND POPULATION > 120000;

-- Mais leg√≠vel (quebrado em linhas)
SELECT NAME
FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;
```

---

## üéì Pr√≥ximos Passos no Aprendizado

Depois de dominar este exerc√≠cio, voc√™ pode aprender:

1. **ORDER BY**: Ordenar resultados
   ```sql
   SELECT NAME FROM CITY ORDER BY POPULATION DESC;
   ```

2. **LIMIT**: Limitar n√∫mero de resultados
   ```sql
   SELECT NAME FROM CITY LIMIT 10;
   ```

3. **LIKE**: Buscar padr√µes em texto
   ```sql
   SELECT NAME FROM CITY WHERE NAME LIKE 'New%';
   ```

4. **IN**: Verificar m√∫ltiplos valores
   ```sql
   SELECT NAME FROM CITY WHERE COUNTRYCODE IN ('USA', 'CAN', 'MEX');
   ```

5. **COUNT, SUM, AVG**: Fun√ß√µes de agrega√ß√£o
   ```sql
   SELECT COUNT(*) FROM CITY WHERE COUNTRYCODE = 'USA';
   ```

6. **GROUP BY**: Agrupar dados
   ```sql
   SELECT COUNTRYCODE, COUNT(*) FROM CITY GROUP BY COUNTRYCODE;
   ```

7. **JOINS**: Combinar dados de m√∫ltiplas tabelas

---

## üîß Testando no MySQL

Para testar esta consulta no MySQL:

```bash
# Conectar ao MySQL
mysql -u seu_usuario -p

# Selecionar o banco de dados
USE nome_do_banco;

# Executar a consulta
SELECT NAME
FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;
```

---

## üìö Recursos Adicionais

- [MySQL Official Documentation](https://dev.mysql.com/doc/)
- [W3Schools SQL Tutorial](https://www.w3schools.com/sql/)
- [SQLZoo Interactive Tutorials](https://sqlzoo.net/)
- [LeetCode Database Problems](https://leetcode.com/problemset/database/)

---

## ‚úÖ Checklist de Aprendizado

Marque o que voc√™ j√° domina:

- [ ] Entendo o que faz `SELECT` e como escolher colunas espec√≠ficas
- [ ] Entendo o que faz `FROM` e como especificar tabelas
- [ ] Entendo o que faz `WHERE` e como criar filtros
- [ ] Sei usar operadores de compara√ß√£o (`>`, `<`, `=`, `>=`, `<=`)
- [ ] Entendo a diferen√ßa entre `AND` e `OR`
- [ ] Sei quando usar aspas simples (texto) e quando n√£o usar (n√∫meros)
- [ ] Consigo escrever consultas com m√∫ltiplas condi√ß√µes
- [ ] Entendo por que usamos `>` ao inv√©s de `>=` neste exerc√≠cio
- [ ] Resolvi todos os exerc√≠cios pr√°ticos
- [ ] Consigo explicar a solu√ß√£o para outra pessoa

---

## ü§î Perguntas Frequentes (FAQ)

### Por que usamos `>` e n√£o `>=`?

O exerc√≠cio pede cidades com popula√ß√µes **maiores que** 120.000, n√£o **maiores ou iguais a** 120.000. Se uma cidade tiver exatamente 120.000 habitantes, ela n√£o deve ser inclu√≠da no resultado.

```sql
POPULATION > 120000   -- Retorna apenas > 120000 (n√£o inclui 120000)
POPULATION >= 120000  -- Retorna >= 120000 (inclui 120000)
```

### Posso usar `!=` ao inv√©s de `<>`?

Sim, ambos significam "diferente de" e funcionam em MySQL:

```sql
WHERE COUNTRYCODE != 'USA'  -- Funciona
WHERE COUNTRYCODE <> 'USA'  -- Tamb√©m funciona
```

`<>` √© o padr√£o SQL, mas `!=` √© mais comum em MySQL.

### E se eu quiser selecionar mais de uma coluna?

Basta separ√°-las com v√≠rgula:

```sql
SELECT NAME, POPULATION, DISTRICT
FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;
```

### Posso usar `*` ao inv√©s de `NAME`?

Sim, mas voc√™ receber√° **todas** as colunas, n√£o apenas o nome:

```sql
SELECT *  -- Retorna: ID, NAME, COUNTRYCODE, DISTRICT, POPULATION
FROM CITY
WHERE COUNTRYCODE = 'USA'
  AND POPULATION > 120000;
```

Use `*` apenas quando realmente precisar de todas as colunas.

---

**Parab√©ns por completar este exerc√≠cio! Continue praticando! üöÄ**
